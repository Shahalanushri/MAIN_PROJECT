<style>
    .header {
        background-color: rgb(231, 231, 231);
    }
</style>


<br><br>
<div class="container-md  p-5">
    <h4 class="mb-3">Your Bookings</h4>




    {{#if orders}}

    <div class="row">
        {{#each orders}}
        <div class="col-12 mb-3">
            <div class="card single-product-card">
                <div class="card-body">
                    <div class="d-flex align-items-center">
                        <div class="card-side-img">
                            <!-- Product Thumbnail--><a class="product-thumbnail d-block" href="#!"><img
                                    src="/images/room-images/{{this.room._id}}-2.png" alt="" width="200px">
                                <!-- Badge--></a>
                        </div>
                        <div class="card-content px-4 py-2">
                            Booking Status : <span class="badge bg-primary p-2 mb-3"> {{this.status}}</span> <br>
                            <a class="text-dark" href="#!">
                                <h3>{{room.categoryName}}</h3>
                                <p class="mt-3 mb-0">Room Number : {{room.roomnumber}}</p>
                                <p class="mt-0 mb-0">Booked Date : {{deliveryDetails.selecteddate}}</p>
                                <p class="mt-0 mb-3">Amount you paid : {{this.totalAmount}}/-</p>

                            </a>

                            {{!-- <a class="btn btn-dark btn-sm" href="/view-ordered-rooms/{{this._id}}">
                                View Details</a> --}}
                            <a href="/cancel-order/{{this._id}}"
                                onclick="return confirm('Are You Sure to cancel {{this.roomname}} ?')"
                                class="btn btn-danger btn-sm">
                                Cancel Booking
                            </a>

                            <a href="/updateorder/{{this._id}}" class="btn btn-dark btn-sm">
                                Modify Booking
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {{/each}}
    </div>

    {{else}}
    <br><br><br>
    <div class="container mt-5">
        <div class="alert alert-secondary" role="alert">
            <h4 class="alert-heading">You Have Booked Nothing!</h4>
            <hr>
            <p class="mb-0">You need to book a room</p>
        </div>
        <a href="/" class="btn btn-primary w-25">Book Now</a>
    </div>
    {{/if}}
</div>


<script>
    function canelorder(id) {
        Swal.fire({
            title: `Are you sure to cancel this Booking?`,
            text: '',
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#33ff68',
            cancelButtonColor: '#d29eee',
            confirmButtonText: 'Yes!',
            cancelButtonText: 'No'
        }).then((result) => {
            if (result.isConfirmed) {
                // Redirect to the delete route if confirmed
                window.location.href = `/cancel-order/${id}`;
            }
        });
    }
</script>